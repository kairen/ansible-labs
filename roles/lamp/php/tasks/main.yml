---

- name: "yum: Install php modules"
  yum:
    name: "{{ item }}"
    state: present
  with_items:
   - php 
   - php-mysql
   - git
  when: os_distro == 'RedHat' or os_distro == 'centos'

- name: "apt: Install php modules"
  apt:
    name: "{{ item }}"
    state: present
  with_items:
   - php
   - libapache2-mod-php
   - php-mysql
   - git
  when: os_distro == 'Debian' or os_distro == 'ubuntu'

- name: Creates the index.php file
  template:
    src: index.php.j2
    dest: /var/www/html/index.php

